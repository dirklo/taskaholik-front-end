(this["webpackJsonptaskaholik-front-end"]=this["webpackJsonptaskaholik-front-end"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(24),r=n.n(s),o=(n(64),n(13)),i=n(14),u=n(16),l=n(15),d=(n(65),n(12)),j=n(8),b=n(4),m=n(6),p=(n(69),n(70),n(25)),h=n.n(p),O=n(32),f=n(34),x=n(50),y=n(51),T={authChecked:!1,loggedIn:!1,currentUser:{}};var v=n(5),E=n(3),C={teams:[],populated:!1};var A={projects:[]};var g={tasks:[],taskComments:[]};var N={details:[],detailComments:[],detailAssignees:[]};var k=Object(f.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATED":return{authChecked:!0,loggedIn:!0,currentUser:t.payload};case"NOT_AUTHENTICATED":return{authChecked:!0,loggedIn:!1,currentUser:{}};default:return e}},team:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"POPULATE_TEAMS":var c=a.payload;return c.map((function(e){return e.selected=!1})),Object(E.a)(Object(E.a)({},n),{},{teams:Object(v.a)(a.payload)});case"SET_CURRENT_TEAM":var s=n.teams.map((function(e){return e.id===a.payload?Object(E.a)(Object(E.a)({},e),{},{selected:!0}):Object(E.a)(Object(E.a)({},e),{},{selected:!1})}));return!s.find((function(e){return!0===e.selected}))&&s.length>0&&(s[0].selected=!0),Object(E.a)(Object(E.a)({},n),{},{teams:s,populated:!0});case"ADD_TEAM":return(e=a.payload).selected=!0,Object(E.a)(Object(E.a)({},n),{},{teams:[].concat(Object(v.a)(n.teams),[e])});case"REMOVE_MEMBER":return t=n.teams.findIndex((function(e){return e.id===a.payload.teamId})),(e=n.teams[t]).members=e.members.filter((function(e){return a.payload.memberId!==e.id})),Object(E.a)(Object(E.a)({},n),{},{teams:[].concat(Object(v.a)(n.teams.splice(0,t)),[e],Object(v.a)(n.teams.splice(t+1)))});case"ADD_MEMBER":return t=n.teams.findIndex((function(e){return e.id===a.payload.teamId})),(e=n.teams[t]).members=[].concat(Object(v.a)(e.members),[a.payload.member]),Object(E.a)(Object(E.a)({},n),{},{teams:[].concat(Object(v.a)(n.teams.splice(0,t)),[e],Object(v.a)(n.teams.splice(t+1)))});case"CLEAR_TEAMS":return Object(E.a)(Object(E.a)({},n),{},{teams:[],populated:!1});default:return n}},project:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"POPULATE_PROJECTS":return Object(E.a)(Object(E.a)({},t),{},{projects:Object(v.a)(n.payload)});case"SET_CURRENT_PROJECT":return e=t.projects.map((function(e){return e.id===n.payload?(e.selected=!0,e):(e.selected=!1,e)})),Object(E.a)(Object(E.a)({},t),{},{projects:e});case"ADD_PROJECT":return Object(E.a)(Object(E.a)({},t),{},{projects:[].concat(Object(v.a)(t.projects),[n.payload])});case"DELETE_PROJECT":return e=t.projects.filter((function(e){return e.id!==n.payload})),Object(E.a)(Object(E.a)({},t),{},{projects:Object(v.a)(e)});case"CLEAR_PROJECTS":return Object(E.a)(Object(E.a)({},t),{},{projects:[]});default:return t}},task:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"POPULATE_TASKS":return Object(E.a)(Object(E.a)({},t),{},{tasks:Object(v.a)(n.payload)});case"POPULATE_TASK_COMMENTS":return Object(E.a)(Object(E.a)({},t),{},{taskComments:Object(v.a)(n.payload)});case"SET_CURRENT_TASK":var a=t.tasks.map((function(e){return e.id===n.payload?Object(E.a)(Object(E.a)({},e),{},{selected:!0}):Object(E.a)(Object(E.a)({},e),{},{selected:!1})}));return Object(E.a)(Object(E.a)({},t),{},{tasks:a});case"ADD_TASK":var c=n.payload.task;return c.selected=!0,Object(E.a)(Object(E.a)({},t),{},{tasks:[].concat(Object(v.a)(t.tasks.map((function(e){return e.selected=!1,e}))),[c])});case"DELETE_TASK":return e=t.tasks.findIndex((function(e){return e.id===Number(n.payload)})),Object(E.a)(Object(E.a)({},t),{},{tasks:Object(v.a)(t.tasks.filter((function(t,n){return n!==e})))});case"ADD_TASK_COMMENT":return Object(E.a)(Object(E.a)({},t),{},{taskComments:[].concat(Object(v.a)(t.taskComments),[n.payload])});case"REMOVE_TASK_COMMENT":return e=t.taskComments.findIndex((function(e){return e.id===Number(n.payload)})),Object(E.a)(Object(E.a)({},t),{},{taskComments:[].concat(Object(v.a)(t.taskComments.slice(0,e)),Object(v.a)(t.taskComments.slice(e+1)))});case"CLEAR_TASKS":return Object(E.a)(Object(E.a)({},t),{},{tasks:[],taskComments:[]});case"CLEAR_TASK_COMMENTS":return Object(E.a)(Object(E.a)({},t),{},{taskComments:[]});default:return t}},detail:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_DETAIL":var c=n.details.map((function(e){return e.id===a.payload.id?Object(E.a)(Object(E.a)({},e),{},{selected:!0}):Object(E.a)(Object(E.a)({},e),{},{selected:!1})}));return Object(E.a)(Object(E.a)({},n),{},{details:c});case"POPULATE_DETAIL_COMMENTS":return Object(E.a)(Object(E.a)({},n),{},{detailComments:Object(v.a)(a.payload)});case"POPULATE_DETAIL_ASSIGNEES":return Object(E.a)(Object(E.a)({},n),{},{detailAssignees:Object(v.a)(a.payload)});case"POPULATE_DETAILS":return Object(E.a)(Object(E.a)({},n),{},{details:Object(v.a)(a.payload)});case"COMPLETE_DETAIL":return e=n.details.findIndex((function(e){return e.id===a.payload.detail.id})),(t=n.details[e]).completed=!a.payload.status,Object(E.a)(Object(E.a)({},n),{},{details:[].concat(Object(v.a)(n.details.slice(0,e)),[t],Object(v.a)(n.details.slice(e+1)))});case"ADD_DETAIL":var s=a.payload.detail;return s.selected=!0,Object(E.a)(Object(E.a)({},n),{},{details:[].concat(Object(v.a)(n.details.map((function(e){return e.selected=!1,e}))),[s])});case"DELETE_DETAIL":return Object(E.a)(Object(E.a)({},n),{},{details:Object(v.a)(n.details.filter((function(e){return e.id!==a.payload})))});case"ADD_DETAIL_COMMENT":return Object(E.a)(Object(E.a)({},n),{},{detailComments:[].concat(Object(v.a)(n.detailComments),[a.payload])});case"REMOVE_DETAIL_COMMENT":return e=n.detailComments.findIndex((function(e){return e.id===Number(a.payload)})),Object(E.a)(Object(E.a)({},n),{},{detailComments:[].concat(Object(v.a)(n.detailComments.slice(0,e)),Object(v.a)(n.detailComments.slice(e+1)))});case"CLEAR_DETAILS":return Object(E.a)(Object(E.a)({},n),{},{details:[],detailComments:[],detailAssignees:[]});case"ADD_ASSIGNEE":return Object(E.a)(Object(E.a)({},n),{},{detailAssignees:[].concat(Object(v.a)(n.detailAssignees),[a.payload])});case"REMOVE_ASSIGNEE":return e=n.detailAssignees.findIndex((function(e){return e.id===Number(a.payload)})),Object(E.a)(Object(E.a)({},n),{},{detailAssignees:[].concat(Object(v.a)(n.detailAssignees.slice(0,e)),Object(v.a)(n.detailAssignees.slice(e+1)))});default:return n}}}),S=Object(f.createStore)(k,Object(x.composeWithDevTools)(Object(f.applyMiddleware)(y.a)));function _(){return S.getState().team.teams.find((function(e){return!0===e.selected}))}function D(){return S.getState().project.projects.find((function(e){return!0===e.selected}))}function w(){return S.getState().task.tasks.find((function(e){return!0===e.selected}))}function U(){return S.getState().detail.details.find((function(e){return!0===e.selected}))}function L(e){var t=new Date(e),n=t.getUTCHours()%12;n=0===n?12:n;var a=("0"+t.getUTCMinutes()).slice(-2),c=t.getUTCHours()>12?"PM":"AM";return t.toDateString()+", "+n+":"+a+" "+c}var I=function(e,t){if(!e.ok)return 401===e.status&&(window.location.href="/"),e.json().then((function(e){return Promise.reject(e.message)}));e.json().then((function(e){return t(e)}))},M="https://taskaholik-back-end.herokuapp.com",P=function(e){localStorage.setItem("token",e),localStorage.setItem("lastLoginTime",new Date(Date.now()).getTime())},R=function(){if(new Date(Date.now()).getTime()-localStorage.getItem("lastLoginTime")<18e5)return localStorage.getItem("token")},F=function(){return function(e){return fetch("".concat(M,"/current_user"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(t){return t.ok?t.json().then((function(t){return e({type:"AUTHENTICATED",payload:t})})):Promise.reject(e({type:"NOT_AUTHENTICATED"}))}))}},J=n(0),z=Object(b.b)(null,{logoutUser:function(){return function(e){return fetch("".concat(M,"/logout"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(t){return t.ok?(e({type:"CLEAR_DETAILS"}),e({type:"CLEAR_TASKS"}),e({type:"CLEAR_PROJECTS"}),e({type:"CLEAR_TEAMS"}),e({type:"NOT_AUTHENTICATED"})):t.json().then((function(t){return e({type:"NOT_AUTHENTICATED"}),Promise.reject(t)}))}))}}})((function(e){var t=e.logoutUser,n=Object(j.g)();return Object(J.jsx)("button",{onClick:function(){t().then((function(){return n.push("/")}))},children:"Logout"})}));var K=Object(b.b)((function(e){return{username:e.auth.currentUser.username}}))((function(e){var t=e.username;return Object(J.jsxs)("div",{className:"top-bar",children:[Object(J.jsx)("div",{className:"logo"}),Object(J.jsx)("h3",{children:"askaholik"}),Object(J.jsxs)("h2",{children:["Welcome back, ",t]}),Object(J.jsx)(z,{})]})}));n(75);function B(e){var t=e.task,n=e.loadTask;return Object(J.jsx)("div",{className:t.selected?"task-card selected":"task-card",id:t.id,onClick:function(e){n(e)},children:Object(J.jsx)("h2",{children:t.title})})}n(76),n(77);var V=function(e){return function(t){return fetch("".concat(M,"/tasks?projectId=").concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(e){return I(e,(function(e){e.map((function(e){return e.selected=!1})),t({type:"POPULATE_TASKS",payload:e})}))}))}},H=(n(78),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.timeout&&(this.timer=setInterval(this.props.clearError,parseInt(this.props.timeout)))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this;return Object(J.jsxs)("div",{className:"error-field",children:[Object(J.jsx)("p",{children:this.props.error}),Object(J.jsx)("button",{className:"dismiss",onClick:function(){e.props.clearError(),clearInterval(e.timer)},children:"X"})]})}}]),n}(a.Component));var G=Object(b.b)((function(e){return{currentUser:e.auth.currentUser,tasks:e.task.tasks,details:e.detail.details}}),{addTaskComment:function(e,t,n,a){return function(c){return fetch("".concat(M,"/task_comments"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({task_comment:{task_id:e,content:t,author_id:n}})}).then((function(e){return I(e,(function(e){c({type:"ADD_TASK_COMMENT",payload:Object(E.a)(Object(E.a)({},e.comment),{},{author:a})})}))}))}},addDetailComment:function(e,t,n,a){return function(c){return fetch("".concat(M,"/detail_comments"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({detail_comment:{detail_id:e,content:t,author_id:n}})}).then((function(e){return I(e,(function(e){c({type:"ADD_DETAIL_COMMENT",payload:Object(E.a)(Object(E.a)({},e.comment),{},{author:a})})}))}))}}})((function(e){var t=e.currentUser,n=e.commentType,c=e.addTaskComment,s=e.addDetailComment,r=e.tasks,o=Object(a.useState)(""),i=Object(m.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(""),j=Object(m.a)(d,2),b=j[0],p=j[1];return Object(a.useEffect)((function(){return p("")}),[r]),Object(J.jsxs)("div",{className:"new-comment-form",children:[Object(J.jsxs)("form",{onSubmit:function(e){switch(e.preventDefault(),n){case"task":c(w().id,u,t.id,t.username).catch((function(e){p(e)}));break;case"detail":s(U().id,u,t.id,t.username).catch((function(e){return p(e)}))}l("")},children:[Object(J.jsx)("input",{type:"text",name:"content",value:u,onChange:function(e){return l(e.target.value)}}),Object(J.jsx)("input",{className:"task"===n?"comment-submit task":"comment-submit detail",type:"submit",value:"Post Comment"}),Object(J.jsx)("br",{})]}),b?Object(J.jsx)(H,{error:b,timeout:"5000",clearError:function(){return p("")}}):null]})})),W=(n(79),n(52)),Y=n.n(W),Z=n(53),X=n.n(Z);var q=Object(b.b)((function(e){return{currentUser:e.auth.currentUser}}),{removeTaskComment:function(e,t){return function(n){return fetch("".concat(M,"/task_comments/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({task_comment:{user_id:t}})}).then((function(t){return I(t,(function(t){n({type:"REMOVE_TASK_COMMENT",payload:e})}))}))}},removeDetailComment:function(e,t){return function(n){return fetch("".concat(M,"/detail_comments/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({detail_comment:{user_id:t}})}).then((function(t){return I(t,(function(t){n({type:"REMOVE_DETAIL_COMMENT",payload:e})}))}))}}})((function(e){var t=e.comment,n=e.currentUser,a=e.commentType,c=e.removeTaskComment,s=e.removeDetailComment;return Object(J.jsxs)("div",{className:"comment-card",children:[Object(J.jsxs)("div",{className:"task"===a?"comment-body task":"comment-body detail",children:[n.id===t.author_id?Object(J.jsx)("div",{className:"delete-btn","data-id":t.id,onClick:function(e){switch(a){case"task":c(e.target.dataset.id,n.id);break;case"detail":s(e.target.dataset.id,n.id)}},children:Object(J.jsx)(Y.a,{className:"delete-icon"})}):null,Object(J.jsx)("span",{className:"comment-content",children:t.content}),Object(J.jsx)("span",{className:"timestamp",children:L(t.created_at)})]},t.id),Object(J.jsxs)("div",{className:"author-div",children:[Object(J.jsx)(X.a,{}),Object(J.jsx)("span",{children:t.author})]})]})})),Q=(n(80),n(81),n(54)),$=n.n(Q);var ee=Object(b.b)((function(e){return{currentUser:e.auth.currentUser}}),{addDetail:function(e,t,n,a){return function(c){return fetch("".concat(M,"/details"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({content:e,task_id:t.id,creator_id:n.id,deadline:a})}).then((function(e){return I(e,(function(e){c({type:"ADD_DETAIL",payload:e})}))}))}},checkAuth:F})((function(e){var t=e.currentUser,n=e.addDetail,c=e.checkAuth,s=Object(a.useState)(""),r=Object(m.a)(s,2),o=r[0],i=r[1],u=Object(a.useState)(Date.now()),l=Object(m.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)(!1),h=Object(m.a)(p,2),O=h[0],f=h[1],x=Object(a.useState)(!1),y=Object(m.a)(x,2),T=y[0],v=y[1];return Object(J.jsxs)("div",{className:"new-detail-form",children:[O?Object(J.jsx)(j.a,{push:!0,to:"/login"}):null,T?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("button",{type:"button",className:"cancel-btn",onClick:function(e){return v(!1)},children:Object(J.jsx)($.a,{})}),Object(J.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c().then((function(){n(o,w(),t,d),i(""),v(!1)})).catch((function(){f(!0)}))},children:[Object(J.jsx)("label",{htmlFor:"add-detail",children:"Description:"}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"text",id:"add-detail",value:o,placeholder:"Description",onChange:function(e){return i(e.target.value)}}),Object(J.jsx)("br",{}),Object(J.jsx)("label",{htmlFor:"deadline",children:" Deadline:"}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"datetime-local",id:"deadline",value:d,onChange:function(e){return b(e.target.value)}}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"submit",value:"Add Detail"})]})]}):Object(J.jsx)("button",{className:"show-form-btn",onClick:function(e){return v(!0)},children:"+ Add New Detail"})]})})),te=n(42),ne=n.n(te),ae=n(41),ce=n.n(ae),se=n(33),re=n.n(se);var oe=Object(b.b)((function(e){return{tasks:e.task.tasks,comments:e.task.taskComments,details:e.detail.details}}),{setCurrentDetail:function(e){return function(t){return fetch("".concat(M,"/details/").concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(e){return I(e,(function(e){t({type:"SET_CURRENT_DETAIL",payload:e.detail}),t({type:"POPULATE_DETAIL_COMMENTS",payload:e.comments}),t({type:"POPULATE_DETAIL_ASSIGNEES",payload:e.assignees})}))}))}},deleteTask:function(e){return function(t){return fetch("".concat(M,"/tasks/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(n){return I(n,(function(n){t({type:"DELETE_TASK",payload:e})}))}))}}})((function(e){var t=e.details,n=e.setCurrentDetail,c=e.deleteTask,s=e.tasks,r=Object(a.useState)(""),o=Object(m.a)(r,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){u("")}),[s]),Object(J.jsxs)("section",{className:"details-list",children:[Object(J.jsxs)("div",{className:"detail-header",children:[Object(J.jsx)("h2",{children:w().title}),Object(J.jsx)("button",{className:"delete-task-btn",onClick:function(e){c(w().id).catch((function(e){u(e)}))},children:Object(J.jsx)(re.a,{})})]}),""!==i?Object(J.jsx)(H,{error:i,timeout:"5000",clearError:function(){return u("")}}):null,Object(J.jsx)(ee,{}),t.map((function(e){return Object(J.jsxs)("div",{className:e.selected?"detail-card selected":"detail-card","data-id":e.id,onClick:function(e){n(parseInt(e.target.dataset.id))},children:[Object(J.jsx)("span",{className:e.completed?"checkmark completed":"checkmark","data-id":e.id,onClick:function(e){n(parseInt(e.target.dataset.id))},children:e.completed?Object(J.jsx)(ce.a,{}):Object(J.jsx)(ne.a,{})},e.id),Object(J.jsx)("span",{className:"detail-body",children:e.content})]},e.id)}))]})}));var ie=Object(b.b)((function(e){return{comments:e.task.taskComments}}),{checkAuth:F})((function(e){var t=e.comments;return Object(J.jsxs)("section",{className:"details-column",children:[Object(J.jsx)(oe,{}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsxs)("section",{className:"task-comments",children:[Object(J.jsx)(G,{commentType:"task"}),Object(J.jsx)("div",{className:"comment-container",children:t.map((function(e){return Object(J.jsx)(q,{comment:e,commentType:"task"},e.id)}))})]})]})})),ue=n(57),le=(n(82),n(55)),de=n.n(le);var je=Object(b.b)((function(e){return{comments:e.detail.detailComments,currentUser:e.auth.currentUser,assignees:e.detail.detailAssignees,details:e.detail.details}}),{completeDetail:function(e){return function(t){return fetch("".concat(M,"/details/").concat(e.id,"/complete"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({status:e.completed})}).then((function(n){return I(n,(function(n){t({type:"COMPLETE_DETAIL",payload:{detail:e,status:e.completed}})}))}))}},deleteDetail:function(e){return function(t){return fetch("".concat(M,"/details/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(n){return I(n,(function(n){t({type:"DELETE_DETAIL",payload:e})}))}))}},addAssignee:function(e,t){return function(n){return fetch("".concat(M,"/assignments"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({assignment:{user_id:e,detail_id:t}})}).then((function(e){return I(e,(function(e){n({type:"ADD_ASSIGNEE",payload:e.member})}))}))}},removeAssignee:function(e,t){return function(n){return fetch("".concat(M,"/assignments"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({assignment:{user_id:e,detail_id:t}})}).then((function(t){return I(t,(function(t){n({type:"REMOVE_ASSIGNEE",payload:e})}))}))}}})((function(e){var t=e.completeDetail,n=e.deleteDetail,c=e.addAssignee,s=e.removeAssignee,r=e.comments,o=e.assignees,i=Object(a.useState)(!1),u=Object(m.a)(i,2),l=u[0],d=u[1],j=Object(a.useState)(null),b=Object(m.a)(j,2),p=b[0],h=b[1],O=_().members.map((function(e){return{value:e.id,label:e.username}})).filter((function(e){return!o.map((function(e){return e.id})).includes(e.value)}));return U()?Object(J.jsxs)("section",{className:"detail-editor",children:[Object(J.jsxs)("div",{className:"detail-top",children:[Object(J.jsxs)("button",{type:"button",className:U().completed?"complete-btn complete":"complete-btn",onClick:function(e){t(U())},children:[U().completed?"Mark Incomplete":"Mark Complete",U().completed?Object(J.jsx)(ce.a,{}):Object(J.jsx)(ne.a,{})]}),Object(J.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){n(U().id)},children:Object(J.jsx)(re.a,{})})]}),Object(J.jsx)("h2",{children:U().content}),Object(J.jsxs)("span",{className:"deadline",children:["Deadline: ",L(U().deadline)]}),Object(J.jsxs)("div",{className:"assignments",children:[Object(J.jsx)("h3",{children:"Assigned team members:"}),o.map((function(e){return Object(J.jsxs)("div",{className:"assignment-card",children:[Object(J.jsx)("span",{className:"name",children:e.username}),Object(J.jsx)("div",{className:"remove-assignee-btn","data-id":e.id,onClick:function(e){s(e.target.dataset.id,_().id)},children:Object(J.jsx)(de.a,{})})]},e.id)})),Object(J.jsx)("br",{}),l?Object(J.jsx)("div",{className:"add-assignee",children:Object(J.jsxs)("form",{className:"add-assignee-form",onSubmit:function(e){e.preventDefault(),c(p.value,U().id),d(!1)},children:[Object(J.jsx)(ue.a,{options:O,onChange:h}),Object(J.jsx)("br",{}),Object(J.jsxs)("div",{className:"buttons",children:[Object(J.jsx)("input",{type:"submit",value:"Assign"}),Object(J.jsx)("button",{type:"button",onClick:function(){return d(!1)},children:"Cancel"})]})]})}):Object(J.jsx)("button",{type:"button",onClick:function(){return d(!0)},children:"Assign Team Member"})]}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)(G,{commentType:"detail"}),Object(J.jsx)("div",{className:"comments-container",children:r.map((function(e){return Object(J.jsx)(q,{comment:e,commentType:"detail"},e.id)}))})]}):Object(J.jsx)("section",{className:"detail-editor empty"})}));n(92);function be(){return w()?Object(J.jsxs)("section",{className:"task-workspace",children:[Object(J.jsx)(ie,{}),Object(J.jsx)(je,{})]}):Object(J.jsx)("section",{className:"task-workspace",children:Object(J.jsx)("div",{className:"no-task-placeholder",children:Object(J.jsx)("div",{className:"logo"})})})}n(93);var me=Object(b.b)((function(e){return{currentUser:e.auth.currentUser,projects:e.project.projects}}),{addTask:function(e,t,n){return function(a){fetch("".concat(M,"/tasks"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({title:e,project_id:t.id,creator_id:n.id})}).then((function(e){return I(e,(function(e){a({type:"CLEAR_DETAILS"}),a({type:"CLEAR_DETAIL_COMMENTS"}),a({type:"CLEAR_TASK_COMMENTS"}),a({type:"ADD_TASK",payload:e})}))}))}}})((function(e){var t=e.currentUser,n=e.addTask,c=Object(a.useState)(""),s=Object(m.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)(!1),u=Object(m.a)(i,2),l=u[0],d=u[1];return Object(J.jsx)("div",{className:"new-task",children:l?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("button",{type:"button",onClick:function(e){return d(!1)},children:"+ Cancel"}),Object(J.jsxs)("form",{className:"new-task-form",onSubmit:function(e){e.preventDefault(),n(r,D(),t),o(""),d(!1)},children:[Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"text",id:"add-new-task",value:r,onChange:function(e){return o(e.target.value)}}),Object(J.jsx)("input",{type:"submit",value:"Add Goal"})]})]}):Object(J.jsx)("button",{type:"button",onClick:function(e){return d(!0)},children:"+ Add New Goal"})})}));var pe=Object(b.b)((function(e){return{tasks:e.task.tasks,projects:e.project.projects,currentUser:e.auth.currentUser,teams:e.team.teams,loggedIn:e.auth.loggedIn}}),{setCurrentTask:function(e){return function(t){return fetch("".concat(M,"/tasks/").concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(e){return I(e,(function(e){t({type:"CLEAR_DETAIL_COMMENTS"}),t({type:"SET_CURRENT_TASK",payload:e.task.id}),t({type:"POPULATE_TASK_COMMENTS",payload:e.comments})}))}))}},populateDetails:function(e){return function(t){return fetch("".concat(M,"/details?taskId=").concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(e){return I(e,(function(e){e.map((function(e){return e.selected=!1})),t({type:"POPULATE_DETAILS",payload:e})}))}))}},deleteProject:function(e,t){return function(n){return fetch("".concat(M,"/projects/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({project:{user_id:t.id}})}).then((function(t){return I(t,(function(){n({type:"CLEAR_DETAILS"}),n({type:"CLEAR_TASKS"}),n({type:"DELETE_PROJECT",payload:e})}))}))}}})((function(e){var t=e.tasks,n=e.setCurrentTask,c=e.populateDetails,s=e.currentUser,r=e.deleteProject,o=(e.loggedIn,Object(a.useState)("")),i=Object(m.a)(o,2),u=i[0],l=i[1];return Object(J.jsxs)("div",{className:"task-container",children:[Object(J.jsx)(K,{}),Object(J.jsxs)("div",{className:"task-fields",children:[D()?Object(J.jsxs)("section",{className:"tasks-select",children:[s.id===D().creator_id||s.id===_().leader_id?Object(J.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){r(D().id,s).catch((function(e){return l(e)}))},children:Object(J.jsx)(re.a,{})}):null,Object(J.jsxs)("div",{className:"title",children:[Object(J.jsx)("h1",{children:D().title}),Object(J.jsxs)("h2",{children:["Deadline: ",L(D().deadline)]})]}),u?Object(J.jsx)(H,{error:u,timeout:"5000",clearError:function(){return l("")}}):null,Object(J.jsx)("h1",{children:"Project Goals:"}),Object(J.jsx)(me,{}),t.map((function(e){return Object(J.jsx)(B,{task:e,loadTask:function(e){n(e.target.id),c(e.target.id)}},e.id)}))]}):null,Object(J.jsx)(be,{})]})]})}));n(94),n(95);var he=Object(b.b)((function(e){return{currentUser:e.auth.currentUser}}),{addProject:function(e,t,n,a){return function(c){return fetch("".concat(M,"/projects"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()},body:JSON.stringify({project:{title:e,team_id:t.id,creator_id:n.id,deadline:a}})}).then((function(e){return I(e,(function(e){c({type:"CLEAR_DETAILS"}),c({type:"CLEAR_TASKS"}),c({type:"ADD_PROJECT",payload:e.project}),c({type:"SET_CURRENT_PROJECT",payload:e.project.id})}))}))}}})((function(e){var t=e.addProject,n=e.currentUser,c=e.showOverlay,s=e.setShowOverlay,r=Object(a.useState)(""),o=Object(m.a)(r,2),i=o[0],u=o[1],l=Object(a.useState)(Date.now()),d=Object(m.a)(l,2),j=d[0],b=d[1];return Object(J.jsx)("div",{className:c?"add-project-form show":"add-project-form hide",children:Object(J.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),t(i,_(),n,j),s(!1)},children:[Object(J.jsx)("label",{htmlFor:"title",children:"Project Name:"}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"text",id:"title",value:i,onChange:function(e){return u(e.target.value)}}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("label",{htmlFor:"deadline",children:"Deadline:"}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"datetime-local",id:"deadline",value:j,onChange:function(e){return b(e.target.value)}}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"submit",value:"Create Project"})]})})}));var Oe=Object(b.b)((function(e){return{projects:e.project.projects}}),{setCurrentProject:function(e){return function(t){t({type:"SET_CURRENT_PROJECT",payload:e}),t({type:"CLEAR_DETAILS"}),t({type:"CLEAR_TASKS"})}},populateTasks:V})((function(e){var t=e.projects,n=e.setCurrentProject,c=e.populateTasks,s=Object(a.useState)(!1),r=Object(m.a)(s,2),o=r[0],i=r[1];return Object(J.jsxs)("div",{className:"toolbar-container",children:[Object(J.jsx)("div",{className:o?"overlay show":"overlay hide",onClick:function(){return i(!1)}}),Object(J.jsx)(he,{showOverlay:o,setShowOverlay:i}),Object(J.jsx)("h1",{children:"Team:"}),Object(J.jsx)("h2",{children:_().name}),Object(J.jsx)("br",{}),Object(J.jsx)(d.b,{to:"/teams",children:"Manage Teams"}),Object(J.jsx)("br",{}),Object(J.jsx)("hr",{}),Object(J.jsx)("h2",{children:"Projects:"}),Object(J.jsx)("button",{type:"button",className:"addProjectBtn",onClick:function(){i(!0)},children:"Start New Project"}),Object(J.jsx)("br",{}),t.length>0?t.map((function(e){return Object(J.jsx)("div",{className:e.selected?"project-card selected":"project-card",onClick:function(){n(e.id),c(e.id)},children:e.title},e.id)})):null]})}));n(96);var fe=Object(b.b)((function(e){return{teams:e.team.teams,projects:e.project.projects}}),{populateTasks:V,populateProjects:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(M,"/projects?teamId=").concat(e),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R()}}).then((function(e){return I(e,(function(e){e.map((function(e){return e.selected=!1})),n({type:"POPULATE_PROJECTS",payload:e})}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.populateProjects;return Object(a.useEffect)((function(){t(_().id)}),[t]),Object(J.jsxs)("div",{className:"dashboard",children:[Object(J.jsx)(pe,{}),Object(J.jsx)(Oe,{})]})})),xe=(n(97),n(98),function(e,t){return function(){var n=Object(O.a)(h.a.mark((function n(a){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(M,"/teams?userId=").concat(e)).then((function(e){return I(e,(function(e){a({type:"POPULATE_TEAMS",payload:e}),a({type:"SET_CURRENT_TEAM",payload:t})}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});var ye=Object(b.b)((function(e){return{teams:e.team.teams}}),{removeMember:function(e,t){return function(n){fetch("".concat(M,"/memberships"),{method:"DELETE",headers:{Accept:"applicaiton/json","Content-type":"application/json"},body:JSON.stringify({membership:{user_id:e,team_id:t}})}).then((function(a){return I(a,(function(a){n({type:"REMOVE_MEMBER",payload:{memberId:e,teamId:t}})}))}))}}})((function(e){var t=e.teams.find((function(e){return!0===e.selected}));return Object(J.jsxs)("fieldset",{className:"member-card",children:[Object(J.jsx)("h2",{children:e.member.username}),"\xa0-\xa0",Object(J.jsx)("h3",{children:e.member.email}),"true"===e.removable?Object(J.jsx)("button",{className:"delete-member-button",type:"button",onClick:function(n){window.confirm("Are You Sure You Want To Remove ".concat(e.member.username," from the team?"))&&e.removeMember(e.member.id,t.id)},children:"X"}):null]})}));n(99);var Te=Object(b.b)(null,{addMember:function(e,t){return function(n){fetch("".concat(M,"/memberships"),{method:"POST",headers:{Accept:"applicaiton/json","Content-type":"application/json"},body:JSON.stringify({membership:{query:e,team_id:t}})}).then((function(e){return I(e,(function(e){n({type:"ADD_MEMBER",payload:{member:e.member,teamId:t}})}))}))}}})((function(e){var t=e.addMember,n=e.currentTeam,c=Object(a.useState)(""),s=Object(m.a)(c,2),r=s[0],o=s[1];return Object(J.jsx)("div",{className:"add-member-form",children:Object(J.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r,n.id),o("")},children:[Object(J.jsx)("input",{type:"text",value:r,onChange:function(e){o(e.target.value)}}),Object(J.jsx)("input",{type:"submit",value:"Add Member"})]})})}));n(100);function ve(e){var t=Object(a.useState)(e.currentTeam.name),n=Object(m.a)(t,2),c=n[0],s=n[1];return Object(J.jsxs)("div",{className:"change-team-name-form",children:[Object(J.jsx)("h2",{children:"Settings:"}),Object(J.jsx)("h3",{children:"Update Team Name:"}),Object(J.jsxs)("form",{action:"",children:[Object(J.jsx)("input",{type:"text",value:c,onChange:function(e){s(e.target.value)}}),Object(J.jsx)("input",{type:"submit",value:"Update Name"})]})]})}var Ee=Object(b.b)((function(e){return{teams:e.team.teams,currentUser:e.auth.currentUser}}))((function(e){var t=e.teams,n=e.currentUser,a=t.find((function(e){return!0===e.selected}));return Object(J.jsxs)("div",{className:"team-page",children:[Object(J.jsxs)("section",{className:"title",children:[Object(J.jsx)("h1",{children:a?a.name:"No Team Loaded"}),Object(J.jsx)(d.b,{to:"/teams/select",children:"Select Team"}),Object(J.jsx)(d.b,{to:"/dashboard",children:"Dashboard"})]}),Object(J.jsxs)("section",{className:"team-options",children:[Object(J.jsxs)("div",{className:"members",children:[Object(J.jsx)("h2",{children:"Leader:"}),Object(J.jsx)(ye,{member:a.leader,removable:"false"}),Object(J.jsx)("h2",{children:"Members:"}),a.members.map((function(e){return Object(J.jsx)(ye,{member:e,removable:n.id===a.leader.id?"true":"false"})})),Object(J.jsx)(Te,{currentTeam:a})]}),Object(J.jsx)("div",{className:"settings",children:Object(J.jsx)(ve,{currentTeam:a})})]})]})}));n(101);var Ce=Object(b.b)((function(e){return{currentUser:e.auth.currentUser}}),{addTeam:function(e,t){return function(n){return fetch("".concat(M,"/teams"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({team:{name:e,user_id:t.id}})}).then((function(e){return I(e,(function(e){var a=e.team;return a.members=[],a.leader=t.username,n({type:"ADD_TEAM",payload:e.team}),e}))}))}}})((function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],s=n[1];return Object(J.jsxs)("div",{className:"new-team-page",children:[Object(J.jsx)(K,{}),Object(J.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),e.addTeam(c,e.currentUser).then((function(t){return e.history.push("/dashboard")}))},children:[Object(J.jsx)("h1",{children:"Create a New Team:"}),Object(J.jsx)("label",{htmlFor:"team-name",children:"Team Name:"}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"text",id:"team-name",onChange:function(e){s(e.target.value)},value:c}),Object(J.jsx)("input",{type:"submit",value:"Create Team"})]})]})}));n(102),n(103);var Ae=Object(b.b)(null,{setCurrentTeam:function(e){return function(t){t({type:"CLEAR_PROJECTS"}),t({type:"CLEAR_TASKS"}),t({type:"CLEAR_DETAILS"}),t({type:"SET_CURRENT_TEAM",payload:Number(e)})}}})((function(e){var t=Object(j.g)();return Object(J.jsx)("fieldset",{className:"team-card",onClick:function(){e.setCurrentTeam(e.team.id),t.push("/dashboard")},children:Object(J.jsx)("h2",{children:e.team.name})})}));var ge=Object(b.b)((function(e){return{teams:e.team.teams,currentUser:e.auth.currentUser}}),{populateTeams:xe})((function(e){var t=e.teams;return e.populateTeams,e.currentUser,Object(J.jsxs)("div",{className:"team-select",children:[Object(J.jsx)(K,{}),t.length>0?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"team-card-container",children:[Object(J.jsx)("h2",{className:"title",children:"Click to load team Dashboard:"}),t.map((function(e){return Object(J.jsx)(Ae,{team:e},e.id)}))]}),Object(J.jsx)(d.b,{to:"./new",children:"Create A New Team"})]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("h2",{children:"You don't have any teams yet!"}),Object(J.jsx)(d.b,{to:"./new",children:"Create Your First Team"})]})]})})),Ne=n(56),ke=n.n(Ne),Se=n(26),_e=(n(104),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={email:"",username:"",password:"",passwordConfirmation:"",error:"",emailFocus:!1,usernameFocus:!1,passwordFocus:!1,passwordConfirmationFocus:!1},e.handleChange=function(t){e.setState(Object(Se.a)({},t.target.name,t.target.value))},e.handleFocus=function(t){e.setState(Object(Se.a)({},t.target.dataset.focus,!0))},e.handleBlur=function(t){""===t.target.value&&e.setState(Object(Se.a)({},t.target.dataset.focus,!1))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,c=n.username,s=n.password;e.props.signupUser({email:a,username:c,password:s}).then((function(){e.props.redirect("/teams/new")})).catch((function(){return e.setState({error:!0})}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(J.jsxs)("div",{className:"signup-window",children:[Object(J.jsxs)("form",{onSubmit:this.handleSubmit,className:"signup-form",children:[Object(J.jsx)("h1",{children:"Sign Up"}),this.props.errors?Object(J.jsx)(H,{error:this.props.error,clearError:function(){return e.setState(Object(E.a)(Object(E.a)({},e.state),{},{error:""}))}}):null,Object(J.jsx)("label",{htmlFor:"username",className:this.state.usernameFocus?"focus":"",children:"Username"}),Object(J.jsx)("input",{type:"text",name:"username",id:"username","data-focus":"usernameFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.username}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("label",{htmlFor:"email",className:this.state.emailFocus?"focus":"",children:"Email"}),Object(J.jsx)("input",{type:"text",name:"email",id:"email","data-focus":"emailFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.email}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("label",{htmlFor:"password",className:this.state.passwordFocus?"focus":"",children:"Password"}),Object(J.jsx)("input",{type:"password",name:"password",id:"password","data-focus":"passwordFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.password}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("label",{htmlFor:"password-confirmation",className:this.state.passwordConfirmationFocus?"focus":"",children:"Password Confirmation"}),Object(J.jsx)("input",{type:"password",name:"passwordConfirmation",id:"password-confirmation","data-focus":"passwordConfirmationFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.passwordConfirmation}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"submit",value:"Sign Up"})]}),Object(J.jsx)("button",{type:"button",onClick:this.props.showLogin,children:"Existing User?"})]})}}]),n}(c.a.Component)),De=Object(b.b)((function(e){return{auth:e.auth}}),{signupUser:function(e){return function(t){return fetch("".concat(M,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.ok?(P(e.headers.get("Authorization")),e.json().then((function(e){return t({type:"AUTHENTICATED",payload:e})}))):e.json().then((function(e){return t({type:"NOT_AUTHENTICATED"}),Promise.reject(e)}))}))}},populateTeams:xe})(_e),we=n(58),Ue=function(){return Object(J.jsx)("div",{className:"fixed top-0 flex items-center w-screen h-screen z-20 bg-gray-700 bg-opacity-70",children:Object(J.jsx)("div",{className:"text-5xl text-white text-center w-10 mx-auto",children:Object(J.jsx)(we.a,{className:"animate-spin"})})})};var Le=function(e){var t=function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(){return Object(o.a)(this,a),n.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatchCheckAuth()}},{key:"render",value:function(){return this.props.authChecked?this.props.loggedIn?Object(J.jsx)(e,Object(E.a)({},this.props)):Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(j.a,{push:!0,to:"/"})}):Object(J.jsx)(Ue,{})}}]),a}(c.a.Component);return Object(b.b)((function(e){var t=e.auth;return{authChecked:t.authChecked,loggedIn:t.loggedIn,currentUser:t.currentUser}}),(function(e){return{dispatchCheckAuth:function(){return e(F())}}}))(t)};var Ie=function(e){var t=function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(){return Object(o.a)(this,a),n.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.teamsPopulated||this.props.populateTeams(this.props.currentUser.id||this.props.currentUser.data.id,1)}},{key:"render",value:function(){return this.props.teamsPopulated?this.props.teams.length>0?Object(J.jsx)(e,Object(E.a)({},this.props)):Object(J.jsx)(j.a,{to:"/teams/new"}):Object(J.jsx)(Ue,{})}}]),a}(c.a.Component);return Object(b.b)((function(e){return{currentUser:e.auth.currentUser,teamsPopulated:e.team.populated,teams:e.team.teams}}),{populateTeams:xe})(t)},Me=(n(105),n(106),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:"",error:!1,emailFocus:!1,passwordFocus:!1},e.handleChange=function(t){e.setState(Object(Se.a)({},t.target.name,t.target.value))},e.handleFocus=function(t){"email"===t.target.name?e.setState({emailFocus:!0}):e.setState({passwordFocus:!0})},e.handleBlur=function(t){"email"===t.target.name?""===e.state.email&&e.setState({emailFocus:!1}):""===e.state.password&&e.setState({passwordFocus:!1})},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,c=n.password;e.props.loginUser({email:a,password:c}).then((function(){e.props.redirect("/teams/select")})).catch((function(){return e.setState({error:!0})}))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(J.jsxs)("div",{className:"login-window",children:[Object(J.jsxs)("form",{onSubmit:this.handleSubmit,className:"login-form",children:[Object(J.jsx)("h1",{children:"Log In"}),Object(J.jsx)("p",{children:this.state.error&&"Invalid email or password"}),Object(J.jsx)("label",{htmlFor:"email",className:this.state.emailFocus?"focus":"",children:"Email or Username"}),Object(J.jsx)("input",{type:"text",name:"email",id:"email",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.email}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("label",{htmlFor:"password",className:this.state.passwordFocus?"focus":"",children:"Password"}),Object(J.jsx)("input",{type:"password",name:"password",id:"password",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.password}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("input",{type:"submit",value:"Log In"})]}),Object(J.jsx)("button",{type:"button",onClick:this.props.showSignup,children:"New User?"})]})}}]),n}(c.a.Component)),Pe=Object(b.b)((function(e){return{auth:e.auth}}),{loginUser:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(M,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.ok?(P(e.headers.get("Authorization")),e.json().then((function(e){return n({type:"AUTHENTICATED",payload:e.data}),e}))):e.json().then((function(e){return n({type:"NOT_AUTHENTICATED"}),Promise.reject(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},populateTeams:xe})(Me),Re=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).redirect=function(t){e.props.history.push(t)},e.state={login:!0},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(J.jsxs)("div",{className:"landing",children:[Object(J.jsx)("div",{className:"custom-shape-divider-top-1620756923",children:Object(J.jsxs)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:[Object(J.jsx)("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"shape-fill"}),Object(J.jsx)("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"shape-fill"}),Object(J.jsx)("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"shape-fill"})]})}),Object(J.jsxs)("div",{className:"landing-content",children:[Object(J.jsx)("div",{className:"splash",alt:"Splash"}),this.state.login?Object(J.jsx)(Pe,{redirect:this.redirect,showSignup:function(){return e.setState({login:!1})}}):Object(J.jsx)(De,{redirect:this.redirect,showLogin:function(){return e.setState({login:!0})}}),Object(J.jsxs)("div",{className:"title",children:[Object(J.jsx)("div",{className:"logo"}),Object(J.jsx)("span",{className:"letters",children:"askaholik"})]}),Object(J.jsxs)("div",{className:"subtext",children:[Object(J.jsx)("h2",{children:"Streamline your Team's Workflow"}),Object(J.jsxs)("p",{children:["Communication is an integral part of any successful company.  ",Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),"We help teams collaborate at the speed of thought. "]})]})]})]})}}]),n}(a.Component),Fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"App",children:Object(J.jsx)(d.a,{basename:"/taskaholik-front-end",children:Object(J.jsxs)(j.d,{children:[Object(J.jsx)(j.b,{exact:!0,path:"/",component:Re}),Object(J.jsx)(j.b,{exact:!0,path:"/dashboard",component:Le(Ie(fe))}),Object(J.jsx)(j.b,{exact:!0,path:"/teams",component:Le(Ie(Ee))}),Object(J.jsx)(j.b,{exact:!0,path:"/teams/new",component:Le(Ce)}),Object(J.jsx)(j.b,{exact:!0,path:"/teams/select",component:Le(Ie(ge))}),Object(J.jsx)(j.b,{exact:!0,path:"/projects/new",component:Le(Ie(ke.a))}),Object(J.jsx)(j.b,{exact:!0,path:"/signup",component:De}),Object(J.jsx)(j.b,{exact:!0,path:"/logout",component:z})]})})})}}]),n}(a.Component);r.a.render(Object(J.jsx)(c.a.StrictMode,{children:Object(J.jsx)(b.a,{store:S,children:Object(J.jsx)(Fe,{})})}),document.getElementById("root"))},56:function(e,t){},64:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.d12ac5e6.chunk.js.map