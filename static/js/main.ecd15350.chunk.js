(this["webpackJsonptaskaholik-front-end"]=this["webpackJsonptaskaholik-front-end"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(23),s=n.n(r),i=(n(122),n(25)),o=n(26),u=n(29),l=n(28),d=(n(123),n(24)),j=n(16),b=n(9),p=n(8),m=(n(127),n(11)),h=(n(128),n(129),n(17)),O=n.n(h),f=n(30),x=n(55),v=n(108),y=n(109),T=n(7),E={authChecked:!1,loggedIn:!1,currentUser:{}};var C={teams:[],populated:!1};var g={projects:[]};var S={tasks:[]};var k={details:[]};var N=Object(x.combineReducers)({auth:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTHENTICATED":return{authChecked:!0,loggedIn:!0,currentUser:n.payload};case"NOT_AUTHENTICATED":return{authChecked:!0,loggedIn:!1,currentUser:{}};case"SET_USER_SELECTED":for(var a in e=t.currentUser,n.payload)e[a]=n.payload[a];return Object(T.a)(Object(T.a)({},t),{},{currentUser:e});default:return t}},team:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"POPULATE_TEAMS":var c=a.payload;return c.map((function(e){return e.selected=!1})),Object(T.a)(Object(T.a)({},n),{},{teams:Object(m.a)(a.payload)});case"SET_CURRENT_TEAM":var r=n.teams.map((function(e){return e.id===a.payload?Object(T.a)(Object(T.a)({},e),{},{selected:!0}):Object(T.a)(Object(T.a)({},e),{},{selected:!1})}));return!r.find((function(e){return!0===e.selected}))&&r.length>0&&(r[0].selected=!0),Object(T.a)(Object(T.a)({},n),{},{teams:r,populated:!0});case"ADD_TEAM":return(e=a.payload).selected=!0,Object(T.a)(Object(T.a)({},n),{},{teams:[].concat(Object(m.a)(n.teams),[e])});case"UPDATE_TEAM":return t=n.teams.findIndex((function(e){return e.id=a.payload.id})),(e=n.teams[t]).name=a.payload.name,Object(T.a)(Object(T.a)({},n),{},{teams:[].concat(Object(m.a)(n.teams.slice(0,t)),[e],Object(m.a)(n.teams.slice(t+1)))});case"REMOVE_MEMBER":return t=n.teams.findIndex((function(e){return e.id===a.payload.teamId})),(e=n.teams[t]).members=e.members.filter((function(e){return a.payload.memberId!==e.id})),Object(T.a)(Object(T.a)({},n),{},{teams:[].concat(Object(m.a)(n.teams.splice(0,t)),[e],Object(m.a)(n.teams.splice(t+1)))});case"ADD_MEMBER":return t=n.teams.findIndex((function(e){return e.id===a.payload.teamId})),(e=n.teams[t]).members=[].concat(Object(m.a)(e.members),[a.payload.member]),Object(T.a)(Object(T.a)({},n),{},{teams:[].concat(Object(m.a)(n.teams.splice(0,t)),[e],Object(m.a)(n.teams.splice(t+1)))});case"CLEAR_TEAMS":return Object(T.a)(Object(T.a)({},n),{},{teams:[],populated:!1});default:return n}},project:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"POPULATE_PROJECTS":return Object(T.a)(Object(T.a)({},t),{},{projects:Object(m.a)(n.payload)});case"SET_CURRENT_PROJECT":return e=t.projects.map((function(e){return e.id===n.payload?(e.selected=!0,e):(e.selected=!1,e)})),Object(T.a)(Object(T.a)({},t),{},{projects:e});case"ADD_PROJECT":return Object(T.a)(Object(T.a)({},t),{},{projects:[].concat(Object(m.a)(t.projects),[n.payload])});case"DELETE_PROJECT":return e=t.projects.filter((function(e){return e.id!==n.payload})),Object(T.a)(Object(T.a)({},t),{},{projects:Object(m.a)(e)});case"CLEAR_PROJECTS":return Object(T.a)(Object(T.a)({},t),{},{projects:[]});default:return t}},task:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"POPULATE_TASKS":return Object(T.a)(Object(T.a)({},t),{},{tasks:Object(m.a)(n.payload)});case"POPULATE_TASK_COMMENTS":return Object(T.a)(Object(T.a)({},t),{},{taskComments:Object(m.a)(n.payload)});case"SET_CURRENT_TASK":var a=t.tasks.map((function(e){return e.id===n.payload?Object(T.a)(Object(T.a)({},e),{},{selected:!0}):Object(T.a)(Object(T.a)({},e),{},{selected:!1})}));return Object(T.a)(Object(T.a)({},t),{},{tasks:a});case"ADD_TASK":var c=n.payload;return c.selected=!0,Object(T.a)(Object(T.a)({},t),{},{tasks:[].concat(Object(m.a)(t.tasks.map((function(e){return e.selected=!1,e}))),[c])});case"DELETE_TASK":return e=t.tasks.findIndex((function(e){return e.id===Number(n.payload)})),Object(T.a)(Object(T.a)({},t),{},{tasks:Object(m.a)(t.tasks.filter((function(t,n){return n!==e})))});case"CLEAR_TASKS":return Object(T.a)(Object(T.a)({},t),{},{tasks:[]});default:return t}},detail:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_DETAIL":var c=n.details.map((function(e){return e.id===Number(a.payload)?Object(T.a)(Object(T.a)({},e),{},{selected:!0}):Object(T.a)(Object(T.a)({},e),{},{selected:!1})}));return Object(T.a)(Object(T.a)({},n),{},{details:c});case"POPULATE_DETAILS":return Object(T.a)(Object(T.a)({},n),{},{details:Object(m.a)(a.payload)});case"COMPLETE_DETAIL":return e=n.details.findIndex((function(e){return e.id===a.payload.detail.id})),(t=n.details[e]).completed=!a.payload.status,Object(T.a)(Object(T.a)({},n),{},{details:[].concat(Object(m.a)(n.details.slice(0,e)),[t],Object(m.a)(n.details.slice(e+1)))});case"ADD_DETAIL":var r=a.payload;return r.selected=!0,Object(T.a)(Object(T.a)({},n),{},{details:[].concat(Object(m.a)(n.details.map((function(e){return e.selected=!1,e}))),[r])});case"UPDATE_DETAIL":return e=n.details.findIndex((function(e){return e.id=a.payload.id})),Object(T.a)(Object(T.a)({},n),{},{details:[].concat(Object(m.a)(n.details.slice(0,e)),[a.payload],Object(m.a)(n.details.slice(e+1)))});case"DELETE_DETAIL":return Object(T.a)(Object(T.a)({},n),{},{details:Object(m.a)(n.details.filter((function(e){return e.id!==a.payload})))});case"CLEAR_DETAILS":return Object(T.a)(Object(T.a)({},n),{},{details:[],detailAssignees:[]});case"TASK_CLEANUP":var s=n.details;return Object(T.a)(Object(T.a)({},n),{},{details:Object(m.a)(s.filter((function(e){return e.taskId!==a.payload})))});default:return n}}}),A=Object(x.createStore)(N,Object(v.composeWithDevTools)(Object(x.applyMiddleware)(y.a)));function w(){return A.getState().team.teams.find((function(e){return!0===e.selected}))}function _(){return A.getState().project.projects.find((function(e){return!0===e.selected}))}function U(){return A.getState().task.tasks.find((function(e){return!0===e.selected}))}function D(){return A.getState().detail.details.find((function(e){return!0===e.selected}))}function L(e){var t=new Date(e),n=t.getUTCHours()%12;n=0===n?12:n;var a=("0"+t.getUTCMinutes()).slice(-2),c=t.getUTCHours()>12?"PM":"AM";return t.toDateString()+", "+n+":"+a+" "+c}var P=function(e,t){return e.ok?e.json().then((function(e){return t(e)})):(401===e.status&&(window.location.href="/"),e.json().then((function(e){return Promise.reject(e.message)})))},R="https://taskaholik-back-end.herokuapp.com",I=function(e){localStorage.setItem("token",e),localStorage.setItem("lastLoginTime",new Date(Date.now()).getTime())},F=function(){if(new Date(Date.now()).getTime()-localStorage.getItem("lastLoginTime")<18e5)return localStorage.getItem("token")},M=function(e){var t={selected_team:w()?w().id:null,selected_project:_()?_().id:null,selected_task:U()?U().id:null,selected_detail:D()?D().id:null};return function(n){return n({type:"SET_USER_SELECTED",payload:t}),fetch("".concat(R,"/users/").concat(e,"/set_selected"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify(t)}).then((function(e){return e}))}},z=n(0),J=Object(p.b)(null,{logoutUser:function(){return function(e){return fetch("".concat(R,"/logout"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}}).then((function(t){return t.ok?(e({type:"CLEAR_DETAILS"}),e({type:"CLEAR_TASKS"}),e({type:"CLEAR_PROJECTS"}),e({type:"CLEAR_TEAMS"}),e({type:"NOT_AUTHENTICATED"})):t.json().then((function(t){return e({type:"NOT_AUTHENTICATED"}),Promise.reject(t)}))}))}}})((function(e){var t=e.logoutUser,n=Object(j.g)();return Object(z.jsx)("button",{onClick:function(){t().then((function(){return n.push("/")}))},children:"Logout"})}));var B=Object(p.b)((function(e){return{username:e.auth.currentUser.username}}))((function(e){var t=e.username,n=Object(a.useState)(0),c=Object(b.a)(n,2),r=c[0],s=c[1];return Object(a.useLayoutEffect)((function(){function e(){s(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(z.jsxs)("div",{className:"top-bar",children:[Object(z.jsx)("div",{className:"logo"}),r>480?Object(z.jsx)("h3",{children:"askaholik"}):null,Object(z.jsxs)("h2",{children:["Welcome back, ",t]}),Object(z.jsx)(J,{})]})}));n(133);function K(e){var t=e.task,n=e.loadTask;return Object(z.jsx)("div",{className:t.selected?"task-card selected":"task-card",id:t.id,onClick:function(e){n(e)},children:Object(z.jsx)("h2",{children:t.title})})}n(134),n(135);var H=n(243),W=n(244);function V(){return G.apply(this,arguments)}function G(){return(G=Object(f.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/task_comments?taskId=").concat(U().id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}});case 2:return t=e.sent,e.next=5,P(t,(function(e){return e}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/task_comments"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({task_comment:{task_id:U().id,content:t}})});case 2:return n=e.sent,e.next=5,P(n,(function(e){return e}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return X.apply(this,arguments)}function X(){return(X=Object(f.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/task_comments/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}});case 2:return n=e.sent,e.next=5,P(n,(function(e){return e}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(136),n(137);var Q=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.timeout&&(this.timer=setInterval(this.props.clearError,parseInt(this.props.timeout)))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this;return Object(z.jsxs)("div",{className:"error-field",children:[Object(z.jsx)("p",{children:this.props.error}),Object(z.jsx)("button",{className:"dismiss",onClick:function(){e.props.clearError(),clearInterval(e.timer)},children:"X"})]})}}]),n}(a.Component);var $=Object(p.b)((function(e){return{currentUser:e.auth.currentUser,tasks:e.task.tasks,details:e.detail.details}}))((function(e){var t=e.commentType,n=e.addComment,c=e.tasks,r=Object(a.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(""),l=Object(b.a)(u,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){return j("")}),[c]),Object(z.jsxs)("div",{className:"new-comment-form",children:[Object(z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(i),o("")},children:[Object(z.jsx)("input",{type:"text",name:"content",value:i,onChange:function(e){return o(e.target.value)}}),Object(z.jsx)("input",{className:"task"===t?"comment-submit task":"comment-submit detail",type:"submit",value:"Post Comment"}),Object(z.jsx)("br",{})]}),d?Object(z.jsx)(Q,{error:d,timeout:"5000",clearError:function(){return j("")}}):null]})})),ee=(n(138),n(110)),te=n.n(ee),ne=n(111),ae=n.n(ne);var ce=Object(p.b)((function(e){return{currentUser:e.auth.currentUser}}))((function(e){var t=e.comment,n=e.currentUser,a=e.commentType,c=e.deleteComment;return e.removeDetailComment,Object(z.jsxs)("div",{className:"comment-card",children:[Object(z.jsxs)("div",{className:"task"===a?"comment-body task":"comment-body detail",children:[n.id===t.author_id?Object(z.jsx)("div",{className:"delete-btn","data-id":t.id,onClick:function(e){return c(e.target.dataset.id)},children:Object(z.jsx)(te.a,{className:"delete-icon"})}):null,Object(z.jsx)("span",{className:"comment-content",children:t.content}),Object(z.jsx)("span",{className:"timestamp",children:L(t.created_at)})]},t.id),Object(z.jsxs)("div",{className:"author-div",children:[Object(z.jsx)(ae.a,{}),Object(z.jsx)("span",{children:t.author.username})]})]})})),re=(n(139),function(e){return function(t){t({type:"SET_CURRENT_DETAIL",payload:e})}}),se=function(e){return function(t){t({type:"SET_CURRENT_TASK",payload:e})}},ie=(n(140),n(141),n(112)),oe=n.n(ie),ue=n(67),le=n.n(ue);var de=Object(p.b)((function(e){return{currentUser:e.auth.currentUser}}),{addDetail:function(e,t,n,a){return function(c){return fetch("".concat(R,"/details"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({content:e,task_id:t.id,creator_id:n.id,deadline:a})}).then((function(e){return P(e,(function(e){c({type:"ADD_DETAIL",payload:e.detail}),c({type:"SET_CURRENT_DETAIL",payload:e.detail.id}),c({type:"SET_USER_SELECTED",payload:{selected_detail:e.detail.id}})}))}))}},updateUserSelections:M})((function(e){var t=e.currentUser,n=e.addDetail,c=e.updateUserSelections,r=Object(a.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(null),l=Object(b.a)(u,2),d=l[0],j=l[1],p=Object(a.useState)(!1),m=Object(b.a)(p,2),h=m[0],O=m[1],f=Object(a.useState)(""),x=Object(b.a)(f,2),v=x[0],y=x[1];return Object(z.jsxs)("div",{className:"new-detail-form",children:[v?Object(z.jsx)(Q,{error:v,timeout:"5000",clearError:function(){return y("")}}):null,h?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("button",{type:"button",className:"cancel-btn",onClick:function(e){O(!1),o(""),j("")},children:Object(z.jsx)(oe.a,{})}),Object(z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),v||(O(!1),o("")),n(i,U(),t,d).catch((function(e){y(e)})),c(t.id)}(e)},children:[Object(z.jsx)("label",{htmlFor:"add-detail",children:"Description:"}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"text",id:"add-detail",value:i,placeholder:"Description",onChange:function(e){return o(e.target.value)}}),Object(z.jsx)("br",{}),Object(z.jsx)("label",{htmlFor:"deadline",children:" Deadline:"}),Object(z.jsx)("br",{}),Object(z.jsx)(le.a,{selected:d,onChange:function(e){return j(e)},showTimeSelect:!0,dateFormat:"Pp"}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"submit",value:"Add Detail"})]})]}):Object(z.jsx)("button",{className:"show-form-btn",onClick:function(e){return O(!0)},children:"+ Add New Detail"})]})})),je=n(73),be=n.n(je),pe=n(72),me=n.n(pe),he=n(44),Oe=n.n(he);var fe=Object(p.b)((function(e){return{tasks:e.task.tasks,comments:e.task.taskComments,details:e.detail.details,currentUser:e.auth.currentUser}}),{setCurrentDetail:re,deleteTask:function(e){return function(t){return fetch("".concat(R,"/tasks/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}}).then((function(n){return P(n,(function(n){t({type:"DELETE_TASK",payload:e}),t({type:"TASK_CLEANUP",payload:e})}))}))}},updateUserSelections:M})((function(e){var t=e.details,n=e.setCurrentDetail,c=e.deleteTask,r=e.tasks,s=e.currentUser,i=e.updateUserSelections,o=Object(a.useState)(""),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(m.a)(t.filter((function(e){return e.task_id===U().id})));return Object(a.useEffect)((function(){d("")}),[r]),U()?Object(z.jsxs)("section",{className:"details-list",children:[Object(z.jsxs)("div",{className:"detail-header",children:[Object(z.jsx)("h2",{children:U().title}),s.id===w().leader_id||s===U.creator?Object(z.jsx)("button",{className:"delete-task-btn",onClick:function(e){c(U().id).catch((function(e){d(e)}))},children:Object(z.jsx)(Oe.a,{})}):null]}),""!==l?Object(z.jsx)(Q,{error:l,timeout:"5000",clearError:function(){return d("")}}):null,Object(z.jsx)(de,{}),j.map((function(e){return Object(z.jsxs)("div",{className:e.selected?"detail-card selected":"detail-card","data-id":e.id,onClick:function(e){n(Number(e.target.dataset.id)),i(s.id)},children:[Object(z.jsx)("span",{className:e.completed?"checkmark completed":"checkmark","data-id":e.id,children:e.completed?Object(z.jsx)(me.a,{}):Object(z.jsx)(be.a,{})},e.id),Object(z.jsx)("span",{className:"detail-body",children:e.content})]},e.id)}))]}):null}));var xe=Object(p.b)((function(e){return{comments:e.task.taskComments,tasks:e.task.tasks}}))((function(e){var t=e.tasks,n=Object(H.a)("taskComments",V),c=n.isLoading,r=n.error,s=n.data,i=n.refetch,o=n.remove,u=Object(W.a)(Y,{onSuccess:function(){i()}}).mutate,l=Object(W.a)(q,{onSuccess:function(){i()}}).mutate;return Object(a.useEffect)((function(){o(),i()}),[t,i,o]),r?"An Error Occured: "+r.message:Object(z.jsxs)("section",{className:"details-container",children:[Object(z.jsx)(fe,{}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsxs)("section",{className:"task-comments",children:[Object(z.jsx)($,{commentType:"task",addComment:function(e){return u(e)}}),Object(z.jsx)("div",{className:"comment-container",children:!c&&s?s.map((function(e){return Object(z.jsx)(ce,{comment:e,commentType:"task",deleteComment:function(e){return l(e)}},e.id)})):"LOADING..."})]})]})}));n(199);function ve(){return ye.apply(this,arguments)}function ye(){return(ye=Object(f.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/detail_comments?detail_id=").concat(D().id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}});case 2:return t=e.sent,e.next=5,P(t,(function(e){return e}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(f.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/detail_comments"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({detail_comment:{detail_id:D().id,content:t}})});case 2:return n=e.sent,e.next=5,P(n,(function(e){return e}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(f.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/detail_comments/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}});case 2:return n=e.sent,e.next=5,P(n,(function(e){return e}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(200);var Se=n(96),ke=n.n(Se);var Ne=Object(p.b)((function(e){return{details:e.detail.details}}),{updateDetail:function(e,t){return function(n){return fetch("".concat(R,"/details/").concat(e),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({detail:t})}).then((function(e){return P(e,(function(e){n({type:"UPDATE_DETAIL",payload:e.detail}),n({type:"SET_CURRENT_DETAIL",payload:e.detail})}))}))}}})((function(e){var t=e.updateDetail,n=Object(a.useState)(!1),c=Object(b.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),o=Object(b.a)(i,2),u=o[0],l=o[1];return Object(z.jsx)("div",{className:"update-deadline-form",children:r?Object(z.jsxs)("div",{className:"update-deadline",children:[Object(z.jsx)("span",{children:"Deadline:"}),Object(z.jsx)("br",{}),Object(z.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),t(D().id,{deadline:u}),s(!1)},required:!0,children:[Object(z.jsx)(le.a,{selected:u,onChange:function(e){return l(e)},showTimeSelect:!0,dateFormat:"Pp"}),Object(z.jsx)("input",{type:"submit",value:"Save"})]}),Object(z.jsx)("button",{onClick:function(){return s(!1)},children:"Cancel"})]}):Object(z.jsx)(z.Fragment,{children:D().deadline?Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"deadline",children:[Object(z.jsxs)("span",{children:["Deadline: ",L(D().deadline)]}),Object(z.jsx)(ke.a,{onClick:function(){return s(!0)}})]})}):Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"no-deadline",children:[Object(z.jsx)("span",{children:"No deadline"}),Object(z.jsx)(ke.a,{onClick:function(){return s(!0)}})]})})})})})),Ae=(n(201),n(115)),we=function(){return fetch("".concat(R,"/assignments?detail_id=").concat(D().id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}}).then((function(e){return e.json()}))},_e=function(e){return fetch("".concat(R,"/assignments"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({assignment:{user_id:e,detail_id:"".concat(D().id)}})}).then((function(e){return e.json()}))},Ue=function(e,t){return fetch("".concat(R,"/assignments"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({assignment:{user_id:e,detail_id:t}})}).then((function(e){return e.json()}))},De=n(114),Le=n.n(De);var Pe=Object(p.b)((function(e){return{assignees:e.detail.detailAssignees,currentUser:e.auth.currentUser}}))((function(e){var t=e.currentUser,n=Object(a.useState)(!1),c=Object(b.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(H.a)("assignees",we),j=d.isLoading,p=d.error,m=d.data,h=d.refetch,O=Object(W.a)(_e,{onSuccess:function(){h()}}).mutate,f=Object(W.a)(Ue,{onSuccess:function(){h()}}).mutate,x=[];return m&&(x=w().members.map((function(e){return{value:e.id,label:e.username}})).filter((function(e){return!m.map((function(e){return e.id})).includes(e.value)}))),p?"An Error Occured.."+p.message:Object(z.jsxs)("div",{className:"assignments-editor",children:[m&&!j?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h3",{children:"Assigned team members:"}),m.map((function(e){return Object(z.jsxs)("div",{className:"assignment-card",children:[Object(z.jsx)("span",{className:"name",children:e.username}),t.id===w().leader_id?Object(z.jsx)("div",{className:"remove-assignee-btn","data-id":e.id,onClick:function(e){f(e.target.dataset.id,D().id)},children:Object(z.jsx)(Le.a,{})}):null]},e.id)}))]}):null,Object(z.jsx)("br",{}),t.id===w().leader_id?Object(z.jsx)(z.Fragment,{children:r?Object(z.jsx)("div",{className:"add-assignee",children:Object(z.jsxs)("form",{className:"add-assignee-form",onSubmit:function(e){e.preventDefault(),O(u.value),s(!1)},children:[Object(z.jsx)(Ae.a,{options:x,onChange:l}),Object(z.jsx)("br",{}),Object(z.jsxs)("div",{className:"buttons",children:[Object(z.jsx)("input",{type:"submit",value:"Assign"}),Object(z.jsx)("button",{type:"button",onClick:function(){return s(!1)},children:"Cancel"})]})]})}):Object(z.jsx)("button",{type:"button",onClick:function(){return s(!0)},children:"Assign Team Member"})}):null]})}));var Re=Object(p.b)((function(e){return{comments:e.detail.detailComments,currentUser:e.auth.currentUser,assignees:e.detail.detailAssignees,details:e.detail.details}}),{completeDetail:function(e){return function(t){return fetch("".concat(R,"/details/").concat(e.id,"/complete"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({status:e.completed})}).then((function(n){return P(n,(function(n){t({type:"COMPLETE_DETAIL",payload:{detail:e,status:e.completed}})}))}))}}})((function(e){var t=e.currentUser,n=e.completeDetail,c=e.deleteDetail,r=e.details,s=Object(H.a)("detailComments",ve),i=s.isLoading,o=s.error,u=s.data,l=s.refetch,d=s.remove,j=Object(W.a)(Te,{onSuccess:function(){l()}}).mutate,b=Object(W.a)(Ce,{onSuccess:function(){l()}}).mutate;return Object(a.useEffect)((function(){d(),l()}),[r,l,d]),o?"An Error Occured: "+o.message:D()?Object(z.jsxs)("section",{className:"detail-editor",children:[Object(z.jsxs)("div",{className:"detail-top",children:[Object(z.jsxs)("button",{type:"button",className:D().completed?"complete-btn complete":"complete-btn",onClick:function(e){n(D())},children:[D().completed?"Mark Incomplete":"Mark Complete",D().completed?Object(z.jsx)(me.a,{}):Object(z.jsx)(be.a,{})]}),t.id===w().leader_id||t.id===D.creator_id?Object(z.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){c(D().id)},children:Object(z.jsx)(Oe.a,{})}):null]}),Object(z.jsx)("h2",{children:D().content}),Object(z.jsx)(Ne,{}),Object(z.jsx)(Pe,{}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)($,{commentType:"detail",addComment:function(e){return j(e)}}),Object(z.jsx)("div",{className:"comments-container",children:u&&!i?u.map((function(e){return Object(z.jsx)(ce,{comment:e,commentType:"detail",deleteComment:function(e){return b(e)}},e.id)})):"LOADING..."})]}):Object(z.jsx)("section",{className:"detail-editor empty"})}));var Ie=Object(p.b)((function(e){return{details:e.detail.details,tasks:e.task.tasks}}))((function(){return U()?Object(z.jsxs)("section",{className:"task-workspace",children:[U()?Object(z.jsx)(xe,{}):null,D()?Object(z.jsx)(Re,{}):null]}):Object(z.jsx)("section",{className:"task-workspace",children:Object(z.jsx)("div",{className:"no-task-placeholder",children:Object(z.jsx)("div",{className:"logo"})})})}));n(209);var Fe=Object(p.b)((function(e){return{currentUser:e.auth.currentUser,projects:e.project.projects}}),{addTask:function(e,t,n){return function(a){fetch("".concat(R,"/tasks"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({title:e,project_id:t.id,creator_id:n.id})}).then((function(e){return P(e,(function(e){a({type:"ADD_TASK",payload:e.task}),a({type:"SET_CURRENT_TASK",payload:e.task.id}),a({type:"SET_USER_SELECTED",payload:{selected_task:e.task.id,selected_detail:null}})}))}))}},updateUserSelections:M})((function(e){var t=e.currentUser,n=e.addTask,c=e.updateUserSelections,r=Object(a.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(!1),l=Object(b.a)(u,2),d=l[0],j=l[1];return Object(z.jsx)("div",{className:"new-task",children:d?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("button",{type:"button",onClick:function(){return j(!1)},children:"+ Cancel"}),Object(z.jsxs)("form",{className:"new-task-form",onSubmit:function(e){return function(e){e.preventDefault(),n(i,_(),t),c(t.id),o(""),j(!1)}(e)},children:[Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"text",id:"add-new-task",value:i,onChange:function(e){return o(e.target.value)}}),Object(z.jsx)("input",{type:"submit",value:"Add Goal"})]})]}):Object(z.jsx)("button",{type:"button",onClick:function(){return j(!0)},children:"+ Add New Goal"})})})),Me=function(e){return function(t){t({type:"SET_CURRENT_PROJECT",payload:e})}},ze=function(e,t){return function(n){return fetch("".concat(R,"/projects/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({project:{user_id:t.id}})}).then((function(t){return P(t,(function(){n({type:"DELETE_PROJECT",payload:e})}))}))}};var Je=Object(p.b)((function(e){return{tasks:e.task.tasks,projects:e.project.projects,currentUser:e.auth.currentUser,teams:e.team.teams,loggedIn:e.auth.loggedIn}}),{setCurrentTask:se,deleteProject:ze,setCurrentDetail:re,updateUserSelections:M})((function(e){var t,n=e.tasks,c=e.setCurrentTask,r=e.setCurrentDetail,s=e.currentUser,i=e.deleteProject,o=e.updateUserSelections,u=Object(a.useState)(""),l=Object(b.a)(u,2),d=l[0],j=l[1];return _()&&(t=Object(m.a)(n.filter((function(e){return e.project_id===_().id})))),Object(z.jsxs)("div",{className:"task-container",children:[Object(z.jsx)(B,{}),Object(z.jsxs)("div",{className:"task-fields",children:[_()?Object(z.jsxs)("section",{className:"tasks-select",children:[s.id===_().creator_id||s.id===w().leader_id?Object(z.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){i(_().id,s).catch((function(e){return j(e)}))},children:Object(z.jsx)(Oe.a,{})}):null,Object(z.jsxs)("div",{className:"title",children:[Object(z.jsx)("h1",{children:_().title}),_().deadline?Object(z.jsxs)("h2",{children:["Deadline: ",L(_().deadline)]}):null]}),d?Object(z.jsx)(Q,{error:d,timeout:"5000",clearError:function(){return j("")}}):null,Object(z.jsx)("h1",{children:"Project Goals:"}),Object(z.jsx)(Fe,{}),t.map((function(e){return Object(z.jsx)(K,{task:e,loadTask:function(e){c(Number(e.target.id)),r(null),o(s.id)}},e.id)}))]}):null,Object(z.jsx)(Ie,{})]})]})}));n(210),n(211);var Be=Object(p.b)((function(e){return{currentUser:e.auth.currentUser}}),{addProject:function(e,t,n,a){return function(c){return fetch("".concat(R,"/projects"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({project:{title:e,team_id:t.id,creator_id:n.id,deadline:a}})}).then((function(e){return P(e,(function(e){c({type:"ADD_PROJECT",payload:e.project}),c({type:"SET_CURRENT_PROJECT",payload:e.project.id}),c({type:"SET_CURRENT_TASK",payload:null}),c({type:"SET_CURRENT_DETAIL",payload:null}),c({type:"SET_USER_SELECTED",payload:{selected_project:e.project.id,selected_task:null,selected_detail:null}})}))}))}}})((function(e){var t=e.addProject,n=e.currentUser,c=e.showOverlay,r=e.setShowOverlay,s=Object(a.useState)(""),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(a.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1];return Object(z.jsx)("div",{className:c?"new-project-form show":"new-project-form hide",children:Object(z.jsxs)("form",{action:"",onSubmit:function(e){return function(e){e.preventDefault(),t(o,w(),n,j),M(n.id),u(""),p(""),r(!1)}(e)},children:[Object(z.jsx)("label",{htmlFor:"title",children:"Project Name:"}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"text",id:"title",value:o,onChange:function(e){return u(e.target.value)}}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("label",{htmlFor:"deadline",children:"Deadline:"}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"datetime-local",id:"deadline",value:j,onChange:function(e){return p(e.target.value)}}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"submit",value:"Create Project"})]})})})),Ke=function(e,t){return function(){var n=Object(f.a)(O.a.mark((function n(a){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(R,"/teams?userId=").concat(e)).then((function(e){return P(e,(function(e){a({type:"POPULATE_TEAMS",payload:e}),a({type:"SET_CURRENT_TEAM",payload:t})}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},He=function(e){return function(t){t({type:"SET_CURRENT_TEAM",payload:Number(e)})}},We=function(){return function(e){e({type:"CLEAR_DETAILS"}),e({type:"CLEAR_TASKS"}),e({type:"CLEAR_PROJECTS"})}};var Ve=Object(p.b)((function(e){return{projects:e.project.projects,currentUser:e.auth.currentUser}}),{setCurrentProject:Me,setCurrentTask:se,setCurrentDetail:re,clearTeam:We,updateUserSelections:M})((function(e){var t=e.projects,n=e.setCurrentProject,c=e.setCurrentTask,r=e.setCurrentDetail,s=e.clearTeam,i=e.updateUserSelections,o=e.currentUser,u=Object(a.useState)(!1),l=Object(b.a)(u,2),d=l[0],p=l[1],m=Object(j.g)();return Object(z.jsxs)("div",{className:"team-toolbar",children:[Object(z.jsx)("div",{className:d?"overlay show":"overlay hide",onClick:function(){return p(!1)}}),Object(z.jsx)(Be,{showOverlay:d,setShowOverlay:p}),Object(z.jsx)("h1",{children:"Team:"}),Object(z.jsx)("h2",{children:w().name}),Object(z.jsx)("br",{}),Object(z.jsx)("button",{type:"button",onClick:function(){n(null),c(null),r(null),i(o.id),s(),m.push("./teams")},children:"Manage Teams"}),Object(z.jsx)("br",{}),Object(z.jsx)("hr",{}),Object(z.jsx)("h2",{children:"Projects:"}),Object(z.jsx)("button",{type:"button",className:"addProjectBtn",onClick:function(){p(!0)},children:"Start New Project"}),Object(z.jsx)("br",{}),t.length>0?t.map((function(e){return Object(z.jsx)("div",{className:e.selected?"project-card selected":"project-card",onClick:function(){n(e.id),c(null),r(null),i(o.id)},children:e.title},e.id)})):null]})}));n(212),n(213);var Ge=Object(p.b)((function(e){return{currentUser:e.auth.currentUser,tasks:e.task.tasks}}),{setCurrentTask:se,setCurrentDetail:re,updateUserSelections:M})((function(e){var t,n=e.currentUser,c=e.setCurrentTask,r=e.setCurrentDetail,s=e.updateUserSelections,i=e.tasks,o=Object(a.useState)(""),u=Object(b.a)(o,2),l=u[0],d=u[1];return _()&&(t=Object(m.a)(i.filter((function(e){return e.project_id===_().id})))),Object(z.jsx)("div",{children:_()?Object(z.jsx)("div",{className:"task-fields",children:Object(z.jsxs)("section",{className:"tasks-select",children:[n.id===_().creator_id||n.id===w().leader_id?Object(z.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){ze(_().id,n).catch((function(e){return d(e)}))},children:Object(z.jsx)(Oe.a,{})}):null,Object(z.jsxs)("div",{className:"title",children:[Object(z.jsx)("h1",{children:_().title}),_().deadline?Object(z.jsxs)("h2",{children:["Deadline: ",L(_().deadline)]}):null]}),l?Object(z.jsx)(Q,{error:l,timeout:"5000",clearError:function(){return d("")}}):null,Object(z.jsx)("h1",{children:"Project Goals:"}),Object(z.jsx)(Fe,{}),t.map((function(e){return Object(z.jsx)(K,{task:e,loadTask:function(e){c(Number(e.target.id)),r(null),s(n.id)}},e.id)}))]})}):null})}));var Ye=Object(p.b)((function(e){return{currentUser:e.auth.currentUser,tasks:e.task.tasks,details:e.detail.details}}))((function(){return Object(z.jsxs)("div",{className:"mobile-dashboard",children:[Object(z.jsx)(Ve,{}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)(Ge,{}),U()?Object(z.jsx)(xe,{}):null,D()?Object(z.jsx)(Re,{}):null]})}));var Ze=Object(p.b)((function(e){return{teams:e.team.teams,projects:e.project.projects,currentUser:e.auth.currentUser}}),{loadTeamData:function(e){return function(t){return fetch("".concat(R,"/teams/").concat(e)).then((function(e){return P(e,(function(e){t({type:"POPULATE_PROJECTS",payload:e.projects}),t({type:"POPULATE_TASKS",payload:e.tasks}),t({type:"POPULATE_DETAILS",payload:e.details})}))}))}},setCurrentTeam:He})((function(e){var t=e.loadTeamData,n=e.currentUser,c=e.setCurrentTeam;Object(a.useEffect)((function(){n.selected_team&&c(n.selected_team,n.id),t(w().id)}),[t,n,c]);var r=Object(a.useState)(0),s=Object(b.a)(r,2),i=s[0],o=s[1];return Object(a.useLayoutEffect)((function(){function e(){o(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),i>1300?Object(z.jsxs)("div",{className:"dashboard",children:[Object(z.jsx)(Je,{}),Object(z.jsx)(Ve,{})]}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(Ye,{})})}));n(214),n(215);var qe=Object(p.b)((function(e){return{teams:e.team.teams}}),{removeMember:function(e,t){return function(n){fetch("".concat(R,"/memberships"),{method:"DELETE",headers:{Accept:"applicaiton/json","Content-type":"application/json",Authorization:F()},body:JSON.stringify({membership:{user_id:e,team_id:t}})}).then((function(a){return P(a,(function(a){n({type:"REMOVE_MEMBER",payload:{memberId:e,teamId:t}})}))}))}}})((function(e){var t=e.teams.find((function(e){return!0===e.selected}));return Object(z.jsxs)("div",{className:"member-card",children:[Object(z.jsxs)("div",{className:"name-div",children:[Object(z.jsx)("div",{className:"avatar",children:e.member.username[0]}),Object(z.jsx)("h2",{children:e.member.username})]}),Object(z.jsx)("h3",{className:"email",children:e.member.email}),"true"===e.removable?Object(z.jsx)("button",{className:"delete-member-button",type:"button",onClick:function(n){window.confirm("Are You Sure You Want To Remove ".concat(e.member.username," from the team?"))&&e.removeMember(e.member.id,t.id)},children:"X"}):null]})}));n(216);var Xe=Object(p.b)(null,{addMember:function(e,t){return function(n){fetch("".concat(R,"/memberships"),{method:"POST",headers:{Accept:"applicaiton/json","Content-type":"application/json",Authorization:F()},body:JSON.stringify({membership:{query:e,team_id:t}})}).then((function(e){return P(e,(function(e){n({type:"ADD_MEMBER",payload:{member:e.member,teamId:t}})}))}))}}})((function(e){var t=e.addMember,n=Object(a.useState)(""),c=Object(b.a)(n,2),r=c[0],s=c[1];return Object(z.jsxs)("div",{className:"new-member-form",children:[Object(z.jsx)("h3",{children:"Search for team members by email or username:"}),Object(z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r,w().id),s("")},children:[Object(z.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value)}}),Object(z.jsx)("input",{type:"submit",value:"Add Member"})]})]})}));n(217);var Qe=Object(p.b)(null,{updateTeam:function(e,t){return function(n){fetch("".concat(R,"/teams/").concat(e),{method:"PATCH",headers:{Accept:"applicaiton/json","Content-type":"application/json",Authorization:F()},body:JSON.stringify({team:t})}).then((function(e){return P(e,(function(e){n({type:"UPDATE_TEAM",payload:e.team})}))}))}}})((function(e){var t=e.updateTeam,n=Object(a.useState)(w().name),c=Object(b.a)(n,2),r=c[0],s=c[1];return Object(z.jsxs)("div",{className:"change-team-name-form",children:[Object(z.jsx)("h2",{children:"Settings:"}),Object(z.jsx)("h3",{children:"Update Team Name:"}),Object(z.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),t(w().id,{name:r})},children:[Object(z.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value)}}),Object(z.jsx)("input",{type:"submit",value:"Update Name"})]})]})}));var $e=Object(p.b)((function(e){return{teams:e.team.teams,currentUser:e.auth.currentUser}}),{setCurrentProject:Me,setCurrentTask:se,setCurrentDetail:re})((function(e){var t=e.currentUser,n=e.setCurrentProject,c=e.setCurrentTask,r=e.setCurrentDetail;return Object(a.useEffect)((function(){n(null),c(null),r(null)}),[t,n,c,r]),Object(z.jsxs)("div",{className:"team-page",children:[Object(z.jsxs)("section",{className:"title",children:[Object(z.jsx)("h1",{children:w()?w().name:"No Team Loaded"}),Object(z.jsx)(d.b,{to:"/teams/select",children:"Select Team"}),Object(z.jsx)(d.b,{to:"/dashboard",children:"Dashboard"})]}),w()?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("section",{className:"team-options",children:Object(z.jsxs)("div",{className:"members",children:[Object(z.jsx)("h2",{children:"Leader:"}),Object(z.jsx)(qe,{member:w().leader,removable:"false"}),Object(z.jsx)("h2",{children:"Members:"}),w().members.map((function(e){return Object(z.jsx)(qe,{member:e,removable:t.id===w().leader.id?"true":"false"},e.id)})),Object(z.jsx)(Xe,{})]})}),Object(z.jsx)("section",{className:"settings",children:Object(z.jsx)(Qe,{})})]}):null]})}));n(218);var et=Object(p.b)((function(e){return{currentUser:e.auth.currentUser}}),{addTeam:function(e,t){return function(n){return fetch("".concat(R,"/teams"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()},body:JSON.stringify({team:{name:e,user_id:t.id}})}).then((function(e){return P(e,(function(e){var a=e.team;return a.members=[],a.leader=t.username,n({type:"ADD_TEAM",payload:e.team}),e}))}))}}})((function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1];return Object(z.jsxs)("div",{className:"new-team-page",children:[Object(z.jsx)(B,{}),Object(z.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),e.addTeam(c,e.currentUser).then((function(t){return e.history.push("/dashboard")}))},children:[Object(z.jsx)("h1",{children:"Create a New Team:"}),Object(z.jsx)("label",{htmlFor:"team-name",children:"Team Name:"}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"text",id:"team-name",onChange:function(e){r(e.target.value)},value:c}),Object(z.jsx)("input",{type:"submit",value:"Create Team"})]})]})}));n(219),n(220);var tt=function(e){var t=e.team,n=e.selectTeam;return Object(z.jsx)("fieldset",{className:"team-card",onClick:function(){n()},children:Object(z.jsx)("h2",{children:t.name})})};var nt=Object(p.b)((function(e){return{teams:e.team.teams,currentUser:e.auth.currentUser}}),{setCurrentTeam:He,clearTeam:We,updateUserSelections:M})((function(e){var t=e.teams,n=e.setCurrentTeam,c=e.updateUserSelections,r=e.currentUser,s=Object(j.g)();return Object(a.useEffect)((function(){n(null),c(r.id)}),[r.id,c,n]),Object(z.jsxs)("div",{className:"team-select",children:[Object(z.jsx)(B,{}),t.length>0?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"team-card-container",children:[Object(z.jsx)("h2",{className:"title",children:"Click to load team Dashboard:"}),t.map((function(e){return Object(z.jsx)(tt,{team:e,selectTeam:function(){return function(e){n(e.id),c(r.id),s.push("/dashboard")}(e)}},e.id)}))]}),Object(z.jsx)(d.b,{to:"./new",children:"Create A New Team"})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h2",{children:"You don't have any teams yet!"}),Object(z.jsx)(d.b,{to:"./new",children:"Create Your First Team"})]})]})})),at=n(45),ct=(n(221),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",username:"",password:"",passwordConfirmation:"",error:"",emailFocus:!1,usernameFocus:!1,passwordFocus:!1,passwordConfirmationFocus:!1},e.handleChange=function(t){e.setState(Object(at.a)({},t.target.name,t.target.value))},e.handleFocus=function(t){e.setState(Object(at.a)({},t.target.dataset.focus,!0))},e.handleBlur=function(t){""===t.target.value&&e.setState(Object(at.a)({},t.target.dataset.focus,!1))},e.handleSubmit=function(t){if(t.preventDefault(),e.state.password!==e.state.passwordConfirmation)e.setState({error:"Passwords must match"});else{var n=e.state,a=n.email,c=n.username,r=n.password;e.props.signupUser({email:a,username:c,password:r}).then((function(){e.props.redirect("/teams/new")})).catch((function(t){e.setState({error:t})}))}},e.passwordMatch=function(){return""!==e.state.password&&""!==e.state.passwordConfirmation?e.state.password!==e.state.passwordConfirmation?"no-match":"match":""},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(z.jsxs)("div",{className:"signup-window",children:[Object(z.jsxs)("form",{onSubmit:this.handleSubmit,className:"signup-form",children:[Object(z.jsx)("h1",{children:"Sign Up"}),""!==this.state.error?Object(z.jsx)(Q,{error:this.state.error,clearError:function(){return e.setState({error:""})}}):null,Object(z.jsx)("label",{htmlFor:"username",className:this.state.usernameFocus?"focus":"",children:"Username"}),Object(z.jsx)("input",{type:"text",name:"username",id:"username","data-focus":"usernameFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.username}),Object(z.jsx)("br",{}),Object(z.jsx)("label",{htmlFor:"email",className:this.state.emailFocus?"focus":"",children:"Email"}),Object(z.jsx)("input",{type:"text",name:"email",id:"email","data-focus":"emailFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.email}),Object(z.jsx)("br",{}),Object(z.jsx)("label",{htmlFor:"password",className:this.state.passwordFocus?"focus":"",children:"Password"}),Object(z.jsx)("input",{type:"password",className:this.passwordMatch(),name:"password",id:"password","data-focus":"passwordFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.password}),Object(z.jsx)("br",{}),Object(z.jsx)("label",{htmlFor:"password-confirmation",className:this.state.passwordConfirmationFocus?"focus":"",children:"Password Confirmation"}),Object(z.jsx)("input",{type:"password",className:this.passwordMatch(),name:"passwordConfirmation",id:"password-confirmation","data-focus":"passwordConfirmationFocus",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.passwordConfirmation}),Object(z.jsx)("br",{}),Object(z.jsx)("input",{type:"submit",value:"Sign Up"})]}),Object(z.jsx)("button",{type:"button",onClick:this.props.showSignup,children:"Existing User?"})]})}}]),n}(c.a.Component)),rt=Object(p.b)((function(e){return{auth:e.auth}}),{signupUser:function(e){return function(t){return fetch("".concat(R,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.ok?(I(e.headers.get("Authorization")),e.json().then((function(e){return t({type:"AUTHENTICATED",payload:e})}))):e.json().then((function(e){return t({type:"NOT_AUTHENTICATED"}),Promise.reject(e.status.message)}))}))}},populateTeams:Ke})(ct),st=n(116),it=function(){return Object(z.jsx)("div",{className:"fixed top-0 flex items-center w-screen h-screen z-20 bg-gray-700 bg-opacity-70",children:Object(z.jsx)("div",{className:"text-5xl text-white text-center w-10 mx-auto",children:Object(z.jsx)(st.a,{className:"animate-spin"})})})};var ot=function(e){var t=function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(){return Object(i.a)(this,a),n.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatchCheckAuth()}},{key:"render",value:function(){return this.props.authChecked?this.props.loggedIn?Object(z.jsx)(e,Object(T.a)({},this.props)):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(j.a,{push:!0,to:"/"})}):Object(z.jsx)(it,{})}}]),a}(c.a.Component);return Object(p.b)((function(e){var t=e.auth;return{authChecked:t.authChecked,loggedIn:t.loggedIn,currentUser:t.currentUser}}),(function(e){return{dispatchCheckAuth:function(){return e((function(e){return fetch("".concat(R,"/current_user"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:F()}}).then((function(t){return t.ok?t.json().then((function(t){return e({type:"AUTHENTICATED",payload:t})})):Promise.reject(e({type:"NOT_AUTHENTICATED"}))}))}))}}}))(t)};var ut=function(e){var t=function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(){return Object(i.a)(this,a),n.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.teamsPopulated||this.props.populateTeams(this.props.currentUser.id||this.props.currentUser.data.id,1)}},{key:"render",value:function(){return this.props.teamsPopulated?this.props.teams.length>0?Object(z.jsx)(e,Object(T.a)({},this.props)):Object(z.jsx)(j.a,{to:"/teams/new"}):Object(z.jsx)(it,{})}}]),a}(c.a.Component);return Object(p.b)((function(e){return{currentUser:e.auth.currentUser,teamsPopulated:e.team.populated,teams:e.team.teams}}),{populateTeams:Ke})(t)},lt=(n(222),n(223),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:"",error:"",emailFocus:!1,passwordFocus:!1},e.handleChange=function(t){e.setState(Object(at.a)({},t.target.name,t.target.value))},e.handleFocus=function(t){"email"===t.target.name?e.setState({emailFocus:!0}):e.setState({passwordFocus:!0})},e.handleBlur=function(t){"email"===t.target.name?""===e.state.email&&e.setState({emailFocus:!1}):""===e.state.password&&e.setState({passwordFocus:!1})},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,c=n.password;e.props.loginUser({email:a,password:c}).then((function(){e.props.auth.currentUser.selected_team?e.props.redirect("/dashboard"):e.props.redirect("/teams/select")})).catch((function(t){return e.setState({error:t})}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(z.jsx)(z.Fragment,{children:this.props.mobileLogin||this.props.width>1300?Object(z.jsxs)("div",{className:"login-window",children:[this.state.error?Object(z.jsx)(Q,{error:this.state.error,clearError:function(){return e.setState({error:""})}}):null,Object(z.jsxs)("form",{onSubmit:this.handleSubmit,className:"login-form",children:[Object(z.jsx)("h1",{children:"Log In"}),Object(z.jsx)("label",{htmlFor:"email",className:this.state.emailFocus?"focus":"",children:"Email or Username"}),Object(z.jsx)("input",{type:"text",name:"email",id:"email",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.email}),Object(z.jsx)("label",{htmlFor:"password",className:this.state.passwordFocus?"focus":"",children:"Password"}),Object(z.jsx)("input",{type:"password",name:"password",id:"password",onFocus:this.handleFocus,onChange:this.handleChange,onBlur:this.handleBlur,value:this.state.password}),Object(z.jsx)("input",{type:"submit",value:"Log In"})]}),Object(z.jsxs)("p",{children:["Test Account:",Object(z.jsx)("br",{}),"email: test@email.com",Object(z.jsx)("br",{}),"password: test123"]}),Object(z.jsx)("button",{type:"button",onClick:this.props.showSignup,children:"New User?"})]}):null})}}]),n}(c.a.Component)),dt=Object(p.b)((function(e){return{auth:e.auth}}),{loginUser:function(e){return function(){var t=Object(f.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(R,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.ok?(I(e.headers.get("Authorization")),e.json().then((function(e){return n({type:"AUTHENTICATED",payload:e.data}),e}))):e.json().then((function(e){return n({type:"NOT_AUTHENTICATED"}),Promise.reject(e.error)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},populateTeams:Ke,setCurrentTeam:He})(lt);var jt=function(e){var t=Object(a.useState)(!0),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.width),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(a.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],m=function(t){e.history.push(t)};return Object(a.useLayoutEffect)((function(){function e(){u(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(z.jsxs)("div",{className:"landing",children:[Object(z.jsx)("div",{className:"custom-shape-divider-top-1620756923",children:Object(z.jsxs)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:[Object(z.jsx)("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"shape-fill"}),Object(z.jsx)("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"shape-fill"}),Object(z.jsx)("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"shape-fill"})]})}),Object(z.jsxs)("div",{className:"landing-content",children:[Object(z.jsx)("div",{className:"splash",alt:"Splash"}),c?Object(z.jsx)(dt,{redirect:m,showSignup:function(){return r(!1)},mobileLogin:j,width:o}):Object(z.jsx)(rt,{redirect:m,showSignup:function(){return r(!0)},mobileLogin:j,width:o}),Object(z.jsxs)("div",{className:"title",children:[Object(z.jsx)("div",{className:"logo"}),Object(z.jsx)("span",{className:"letters",children:"askaholik"})]}),o<1300&&!j?Object(z.jsx)("div",{className:"login-buttons",children:Object(z.jsx)("button",{type:"button",onClick:function(){return p(!0)},children:"LOG IN"})}):null,!j||o>1300?Object(z.jsxs)("div",{className:"subtext",children:[Object(z.jsx)("h2",{children:"Streamline your Team's Workflow"}),Object(z.jsxs)("p",{children:["Communication is an integral part of any successful company.  ",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"We help teams collaborate at the speed of thought. "]})]}):null]})]})},bt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){document.title="Taskaholik"}},{key:"render",value:function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(d.a,{basename:"/taskaholik-front-end",children:Object(z.jsxs)(j.d,{children:[Object(z.jsx)(j.b,{exact:!0,path:"/",component:jt}),Object(z.jsx)(j.b,{exact:!0,path:"/dashboard",component:ot(ut(Ze))}),Object(z.jsx)(j.b,{exact:!0,path:"/teams",component:ot(ut($e))}),Object(z.jsx)(j.b,{exact:!0,path:"/teams/new",component:ot(et)}),Object(z.jsx)(j.b,{exact:!0,path:"/teams/select",component:ot(ut(nt))}),Object(z.jsx)(j.b,{exact:!0,path:"/signup",component:rt}),Object(z.jsx)(j.b,{exact:!0,path:"/logout",component:J})]})})})}}]),n}(a.Component),pt=n(242),mt=n(74),ht=new pt.a;s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(mt.a,{client:ht,children:Object(z.jsx)(p.a,{store:A,children:Object(z.jsx)(bt,{})})})}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.ecd15350.chunk.js.map